# Docker Compose for pulling from GitHub Container Registry (GHCR)
# Usage:
#   1. Copy this file and .env.example to your deployment directory
#   2. Rename .env.example to .env and configure
#   3. Run: docker-compose -f docker-compose.hub.yml up -d
#
# Note: Replace GITHUB_USER with your GitHub username or organization
#       Image URL: ghcr.io/GITHUB_USER/meeting_recorder:latest

services:
  meeting-recorder:
    image: ${DOCKER_IMAGE:-ghcr.io/eyeduck-ai/meeting_recorder:latest}
    container_name: meeting-recorder
    ports:
      - "8000:8000"
      - "${VNC_PORT:-5900}:5900"
    volumes:
      - ./recordings:/app/recordings
      - ./diagnostics:/app/diagnostics
      - ./data:/app/data
      - ./logs:/app/logs
    env_file:
      - .env
    environment:
      - TZ=${TZ:-Asia/Taipei}
      - DATABASE_URL=${DATABASE_URL:-sqlite:///./data/app.db}
    privileged: true
    shm_size: '2gb'
    restart: unless-stopped
